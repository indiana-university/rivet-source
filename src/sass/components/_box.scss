// Copyright (C) 2018 The Trustees of Indiana University
// SPDX-License-Identifier: BSD-3-Clause

.#{$prefix}-box {
  background-color: $color-white;
  border: 1px solid $color-black--200;
  border-radius: $xxs;

  &__body {
    padding: $sm;
  }

  &__row {
    border-top: 1px solid $color-black--150;
    margin-top: -1px;
    padding: $sm;

    &:first-child {
      border-top: none;
    }
  }

  &__row--selected,
  &__row[aria-current] {
    background-color: $color-black--050;
    box-shadow: $xxs 0 0 0 $color-blue--600 inset;
  }

  &__row--info {
    background-color: $color-blue--050;
    box-shadow: $xxs 0 0 0 $color-blue--600 inset;
    color: $color-blue--700;
  }

  &__row--success {
    background-color: $color-green--050;
    color: $color-green--700;
    box-shadow: $xxs 0 0 0 $color-green--500 inset;
  }

  &__row--warning {
    background-color: $color-yellow--050;
    box-shadow: $xxs 0 0 0 $color-yellow--200 inset;
    color: $color-yellow--700;
  }

  &__row--danger {
    background-color: $color-orange--050;
    box-shadow: $xxs 0 0 0 $color-orange--500 inset;
    color: $color-orange--700;
  }

  &__footer {
    background-color: $color-subtle-gray;
    border-top: 1px solid $color-black--200;
    border-bottom-right-radius: $xxs; // Gets rid of border clipping
    border-bottom-left-radius: $xxs; // Gets rid of border clipping
    padding: $xxs $sm;
  }

  &__header {
    align-items: center;
    background-color: $color-subtle-gray;
    border-top: none;
    border-right: none;
    border-bottom: 1px solid $color-black--200;
    border-top-right-radius: $xxs; // Gets rid of border clipping
    border-top-left-radius: $xxs; // Gets rid of border clipping
    border-left: none;
    font-weight: $font-weight-bold;
    font-size: $sm;
    display: flex;
    position: relative;
    padding: $sm;
    text-align: left;
    width: 100%;

    /**
     * You could technically make the box header a button and then use
     * the Rivet collapsible package with the box. This needs more
     * experimenting, but I can confirm that it works.
     */

    &:focus {
      box-shadow: 0 0 0 $xxs/2 #ffffff, 0 0 0 $xxs $color-blue--600;
      outline: none;
    }
  }

  &__image {
    border-top-right-radius: $xxs;
    border-top-left-radius: $xxs;
    overflow: hidden;

    img {
      display: block;
      width: 100%;
    }
  }

  &--light &__header,
  &--light &__footer {
    background-color: $color-white;
  }

  &--compact &__header,
  &--compact &__body,
  &--compact &__row {
    padding: $xs;
  }

  /**
   * Alert variant
   */

  &--info {
    border-color: $color-blue--200;
  }

  &--info &__header,
  &--info &__footer {
    background-color: $color-blue--050;
    border-color: $color-blue--200;
    color: $color-blue--700;
  }

  &--info &__row {
    border-color: $color-blue--200;
  }

  &--success {
    border-color: $color-green--200;
  }

  &--success &__header,
  &--success &__footer {
    background-color: $color-green--050;
    border-color: $color-green--200;
    color: $color-green--700;
  }

  &--success &__row {
    border-color: $color-green--200;
  }

  &--warning {
    border-color: $color-yellow--100;
  }

  &--warning &__header,
  &--warning &__footer {
    background-color: $color-yellow--050;
    border-color: $color-yellow--100;
    color: $color-yellow--700;
  }

  &--warning &__row {
    border-color: $color-yellow--100;
  }

  &--danger {
    border-color: $color-orange--200;
  }

  &--danger &__header,
  &--danger &__footer {
    background-color: $color-orange--050;
    border-color: $color-orange--200;
    color: $color-orange--700;
  }

  &--danger &__row {
    border-color: $color-orange--200;
  }

  &--card {
    box-shadow: $shadow-base;
    border: none;
  }

  &--card &__footer {
    border-top-color: $color-black--200;
  }
}
