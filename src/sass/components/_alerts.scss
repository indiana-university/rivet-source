// Copyright (C) 2018 The Trustees of Indiana University
// SPDX-License-Identifier: BSD-3-Clause

.alert,
.#{$prefix}-alert {
  background-color: $color-black--100;
  border-left: $xxs solid $color-black--400;
  padding: $sm;
  position: relative;

  &__title {
    font-weight: $font-weight-bold;
    font-size: $ts-18;

    /**
     * We'll put bottom margin on the title here so that the .alert can
     * be used with the __message only and still get the proper padding
     * around all sides.
     */
    margin-bottom: $xxs;

    /**
     * Add a little padding on the right so that the title won't end up
     * showing underneath the "X" button if it's used.
     */
    padding-right: $md;
  }

  &__message {
    margin-top: 0;
    margin-bottom: 0;
    font-size: $ts-14;
    padding-right: $md;
  }

  &__dismiss {
    background-color: transparent;
    border: none;
    border-radius: 0;
    border-radius: $xxs;
    color: $color-black;
    line-height: 1;
    padding: 0;
    position: absolute;
    top: $sm;
    right: $sm;
    width: $md;
    height: $md;

    &:hover {
      background-color: rgba(0, 0, 0, .15);
    }

    &:focus {
      outline: none;
      box-shadow: 0 0 0 $xxs/2 $color-blue--600 !important;
    }
  }
}

/**
 * Alert modifiers
 *
 * NOTE: Old un-prefixed versions should be removed in the next major
 * version of Rivet.
 *
 * The ".alert-message" and "alert--error" class names should also be removed
 * in favor on the newer unified alert/feedback naming conventions.
 */

.alert--info,
.#{$prefix}-alert--info {
  background-color: $color-blue--050;
  border-left-color: $color-blue--600;
  color: $color-blue--700;
}

.alert--success,
.#{$prefix}-alert--success {
  background-color: $color-green--050;
  border-left-color: $color-green--500;
  color: $color-green--700;
}

.alert--message,
.#{$prefix}-alert--message,
.alert--warning,
.#{$prefix}-alert--warning {
  background-color: $color-yellow--050;
  border-left-color: $color-yellow--200;
  color: $color-yellow--700;
}

.alert--error,
.#{$prefix}-alert--error,
.alert--danger,
.#{$prefix}-alert--danger {
  background-color: $color-orange--050;
  border-left-color: $color-orange--500;
  color: $color-orange--700;
}

/**
 * Alert lists
 */

.alert-list,
.#{$prefix}-alert-list {
  list-style: none;
  margin: 0;
  padding: 0;

  &__item {
    line-height: 1.5;
  }

  &__item:not(first-child) {
    margin-top: $xs;
  }
}

/**
 * DEPRECATED
 *
 * This was the original version of inline form validation errors. We've
 * Redesigned inline form validation errors/messages to be more flexible
 * and consistent. Please use .#{$prefix}-inline-alert(s) going forward.
 *
 * See the following for more info:
 *
 * - /src/components/05-text-inputs/text-inputs.hbs
 * - /src/components/06-select-input/select-input.hbs
 * - /src/components/07-radio-inputs/radio-inputs.hbs
 * - /src/components/08-checkboxes/checkboxes.hbs
 * - /src/sass/components/_validation.scss
 *
 */

.alert-inline,
.#{$prefix}-alert-inline {
  background-color: $color-alert-orange-light;
  border-left: $xxs solid $color-alert-orange;
  color: $color-alert-orange-text;

  &__message {
    margin: 0;
    padding: $sm;
    line-height: 1.2;
    font-weight: $font-weight-bold;
    font-size: $ts-14;
  }
}

.input-error,
.#{$prefix}-input-error > {
  input[type='color'],
  input[type='color']:focus,
  input[type='date'],
  input[type='date']:focus,
  input[type='datetime'],
  input[type='datetime']:focus,
  input[type='datetime-local'],
  input[type='datetime-local']:focus,
  input[type='email'],
  input[type='email']:focus,
  input[type='month'],
  input[type='month']:focus,
  input[type='number'],
  input[type='number']:focus,
  input[type='password'],
  input[type='password']:focus,
  input[type='search'],
  input[type='search']:focus,
  input[type='tel'],
  input[type='tel']:focus,
  input[type='text'],
  input[type='text']:focus,
  input[type='time'],
  input[type='time']:focus,
  input[type='url'],
  input[type='url']:focus,
  input[type='week'],
  input[type='week']:focus,
  textarea,
  select {
    box-shadow: 0 0 0 $xxs/2 $color-alert-orange;
    border-color: $color-alert-orange;
  }
}
