// Copyright (C) 2018 The Trustees of Indiana University
// SPDX-License-Identifier: BSD-3-Clause

@use '../core' as *;
@use 'sass:math';

.#{$prefix}-button {
  --rvt-color-button: #{$color-crimson-500};
  --rvt-color-button-bg: #{$color-orange-000};
  --rvt-color-button-hover: #{$color-crimson-700};
  --rvt-color-button-bg-hover: #{$color-crimson-000};
  --rvt-color-button-border: #{$color-orange-000};
  --rvt-color-border-hover: #{$color-orange-000};
  --rvt-button-border-width: 1px;
  --rvt-button-border-radius: 0;
  --rvt-gap-button: #{$spacing-xs};
  --rvt-padding-button: 0 #{$spacing-sm};
  --rvt-font-weight-button: #{$font-weight-medium};
  --rvt-height-button: #{$spacing-sm * 3};
  --rvt-outline-width-button: 2px;
  --rvt-color-outline-button: #{$color-crimson-500};

  text-decoration: none;
  line-height: 1.1;
  height: var(--rvt-height-button);
  padding: var(--rvt-padding-button);
  font-weight: var(--rvt-font-weight-button);
  display: inline-flex;
  align-items: center;
  gap: var(--rvt-gap-button);
  background: var(--rvt-color-button-bg);
  color: var(--rvt-color-button);
  cursor: pointer;
  border: var(--rvt-button-border-width) solid var(--rvt-color-button-border);
  border-radius: var(--rvt-button-border-radius);

  &:hover {
    background-color: var(--rvt-color-button-bg-hover);
    color: var(--rvt-color-button-hover);
    border-color: var(--rvt-color-border-hover);
  }

  &:focus {
    outline: var(--rvt-outline-width-button) solid var(--rvt-color-outline-button);
    outline-offset: var(--rvt-outline-width-button);
  }

  &:disabled {
    --rvt-color-button: #{$color-black-300};
    --rvt-color-button-hover: #{$color-black-300};
    --rvt-color-button-bg: #{$color-black-000};
    --rvt-color-button-bg-hover: #{$color-black-000};
    --rvt-color-button-border: #{$color-black-000};
    cursor: not-allowed;
  }

  &--outline {
    --rvt-color-button-bg: #{$color-white-base};
    --rvt-color-button-border: #{$color-orange-100};
  }

  &--solid {
    --rvt-color-button-bg: #{$color-crimson-500};
    --rvt-color-button-border: #{$color-crimson-500};
    --rvt-color-button: #{$color-white-base};
  }

  &--solid:hover {
    --rvt-color-button-hover: #{$color-white-base};
    --rvt-color-button-bg-hover: #{$color-crimson-700};
    --rvt-color-button-border: #{$color-crimson-700};
  }
}

a.#{$prefix}-button {
  &::after {
    @include bg-icon-arrow-right($color-crimson-500);
    content: " ";
    width: $spacing-sm;
    height: $spacing-sm;
    background-repeat: no-repeat;
    background-position: center;
    transition: all .2s ease;
  }

  &:hover::after {
    transform: translate($spacing-xxs, 0);
  }
}

a[href^="http"].#{$prefix}-button::after {
  @include bg-icon-arrow-up-right($color-crimson-500);
}

a[href^="#"].#{$prefix}-button::after {
  @include bg-icon-arrow-down($color-crimson-500);
}

a.#{$prefix}-button--solid::after {
  @include bg-icon-arrow-right($color-white-base);
}

a[href^="http"].#{$prefix}-button--solid::after {
   @include bg-icon-arrow-up-right($color-white-base);
}

a[href^="#"].#{$prefix}-button--solid::after {
  @include bg-icon-arrow-down($color-white-base);
}

// Themes
// Crimson theme - default variant
.#{$prefix}-theme-crimson .rvt-button {
  --rvt-color-button: #{$color-white-base};
  --rvt-color-button-bg: #{$color-crimson-500};
  --rvt-color-button-border: #{$color-crimson-500};
  --rvt-color-button-hover: #{$color-white-base};
  --rvt-color-button-bg-hover: #{$color-crimson-500};
  --rvt-color-border-hover: #{$color-white-base};

  &:focus {
    --rvt-color-outline-button: #{$color-white-base};
  }
}

.#{$prefix}-theme-crimson a.#{$prefix}-button::after {
  @include bg-icon-arrow-right($color-white-base);
}

.#{$prefix}-theme-crimson a[href^="#"].#{$prefix}-button::after {
  @include bg-icon-arrow-down($color-white-base);
}

.#{$prefix}-theme-crimson a[href^="http"].#{$prefix}-button::after {
  @include bg-icon-arrow-up-right($color-white-base);
}

// Crimson theme - solid variant
.#{$prefix}-theme-crimson .rvt-button--solid {
  --rvt-color-button: #{$color-crimson-500};
  --rvt-color-button-bg: #{$color-white-base};
  --rvt-color-button-hover: #{$color-white-base};
  --rvt-color-button-bg-hover: #{$color-crimson-500};
  --rvt-color-button-border: #{$color-white-base};
}
// TODO: When using @extend for these background images
// there were some specificity problems where the default
// Crimson theme button variant was overriding these background
// images. That's why we're not using @extend here.
.#{$prefix}-theme-crimson a.#{$prefix}-button--solid::after {
  @include bg-icon-arrow-right($color-crimson-500);
}

.#{$prefix}-theme-crimson a.#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-right($color-white-base);
}

.#{$prefix}-theme-crimson a[href^="#"].#{$prefix}-button--solid::after {
  @include bg-icon-arrow-down($color-crimson-500);
}

.#{$prefix}-theme-crimson a[href^="#"].#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-down($color-white-base);
}

.#{$prefix}-theme-crimson a[href^="http"].#{$prefix}-button--solid::after {
  @include bg-icon-arrow-up-right($color-crimson-500);
}

.#{$prefix}-theme-crimson a[href^="http"].#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-up-right($color-white-base);
}

// Crimson theme - outline variant
.#{$prefix}-theme-crimson .rvt-button--outline {
  --rvt-color-button: #{$color-white-base};
  --rvt-color-button-bg: #{$color-crimson-500};
  --rvt-color-button-hover: #{$color-crimson-500};
  --rvt-color-button-bg-hover: #{$color-white-base};
  --rvt-color-button-border: #{$color-white-base};
}

.#{$prefix}-theme-crimson a.#{$prefix}-button--outline::after {
  @include bg-icon-arrow-right($color-white-base);
}

.#{$prefix}-theme-crimson a.#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-right($color-crimson-500);
}

.#{$prefix}-theme-crimson a[href^="#"].#{$prefix}-button--outline::after {
  @include bg-icon-arrow-down($color-white-base);;
}

.#{$prefix}-theme-crimson a[href^="#"].#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-down($color-crimson-500);;
}

.#{$prefix}-theme-crimson a[href^="http"].#{$prefix}-button--outline::after {
  @include bg-icon-arrow-up-right($color-white-base);
}

.#{$prefix}-theme-crimson a[href^="http"].#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-up-right($color-crimson-500);
}

// Dark Theme - default variant
.#{$prefix}-theme-dark .rvt-button {
  --rvt-color-button: #{$color-white-base};
  --rvt-color-button-bg: #{$color-black-500};
  --rvt-color-button-border: #{$color-black-500};
  --rvt-color-button-hover: #{$color-white-base};
  --rvt-color-button-bg-hover: #{$color-black-base};
  --rvt-color-border-hover: #{$color-white-base};

  &:focus {
    --rvt-color-outline-button: #{$color-white-base};
  }
}

.#{$prefix}-theme-dark a.#{$prefix}-button::after {
  @include bg-icon-arrow-right($color-white-base);;
}

.#{$prefix}-theme-dark a[href^="#"].#{$prefix}-button::after {
  @include bg-icon-arrow-down($color-white-base);;
}

.#{$prefix}-theme-dark a[href^="http"].#{$prefix}-button::after {
  @include bg-icon-arrow-up-right($color-white-base);
}

// Dark theme - outline variant
.#{$prefix}-theme-dark .rvt-button--outline {
  --rvt-color-button-bg-hover: #{$color-white-base};
  --rvt-color-button-hover: #{$color-black-500};
  --rvt-color-button-border: #{$color-white-base};
}

.#{$prefix}-theme-dark a.#{$prefix}-button--outline::after {
  @include bg-icon-arrow-right($color-white-base);
}

.#{$prefix}-theme-dark a.#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-right($color-black-500);
}

.#{$prefix}-theme-dark a[href^="#"].#{$prefix}-button--outline::after {
  @include bg-icon-arrow-down($color-white-base);;
}

.#{$prefix}-theme-dark a[href^="#"].#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-down($color-black-500);
}

.#{$prefix}-theme-dark a[href^="http"].#{$prefix}-button--outline::after {
  @include bg-icon-arrow-up-right($color-white-base);
}

.#{$prefix}-theme-dark a[href^="http"].#{$prefix}-button--outline:hover::after {
  @include bg-icon-arrow-up-right($color-black-500);
}

// Dark theme - solid variant
.#{$prefix}-theme-dark .rvt-button--solid {
  --rvt-color-button-bg: #{$color-white-base};
  --rvt-color-button: #{$color-black-500};
}

.#{$prefix}-theme-dark a.#{$prefix}-button--solid::after {
  @include bg-icon-arrow-right($color-black-500);
}

.#{$prefix}-theme-dark a.#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-right($color-white-base);;
}

.#{$prefix}-theme-dark a[href^="#"].#{$prefix}-button--solid::after {
  @include bg-icon-arrow-down($color-black-500);
}

.#{$prefix}-theme-dark a[href^="#"].#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-down($color-white-base);;
}

.#{$prefix}-theme-dark a[href^="http"].#{$prefix}-button--solid::after {
  @include bg-icon-arrow-up-right($color-black-500);
}

.#{$prefix}-theme-dark a[href^="http"].#{$prefix}-button--solid:hover::after {
  @include bg-icon-arrow-up-right($color-white-base);
}
